% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bic_selector.R
\name{select_best_k_bic}
\alias{select_best_k_bic}
\title{Select Best Number of Components using BIC}
\usage{
select_best_k_bic(X, y, k_max = 10, seed = NULL)
}
\arguments{
\item{X}{A numeric matrix of predictors (including intercept)}

\item{y}{A numeric vector of response values}

\item{k_max}{Maximum number of components to consider}

\item{seed}{Optional random seed}
}
\value{
A list containing the best model, best_k, and best BIC
}
\description{
Iteratively fits mixture regression models with increasing components and selects the model with the lowest BIC.
}
\examples{
custom_betas <- list(
  c(0.5, 1.5, 2, 3),   # Cluster 1
  c(1, 2, 3, 4),       # Cluster 2
  c(2, 3, 4, 6)        # Cluster 3
)
df <- generate_mixture_data(
  n_samples = 1000,
  n_features = 3,
  betas = custom_betas,
  cluster_probs = c(0.4, 0.3, 0.3),
  noise_std = 1,
  seed = 42
)
response_col <- "y"
feature_cols <- setdiff(names(df), c(response_col, "cluster"))
X_raw <- as.matrix(df[, feature_cols])
y <- df[[response_col]]
X <- cbind(1, X_raw)  # Add intercept

bic_result <- select_best_k_bic(X, y, seed = 42)
best_k <- bic_result$best_k

}
